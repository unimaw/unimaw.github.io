<!DOCTYPE html>
<html>
  <head>
    <!-- views/partials/head.ejs -->

<meta charset="utf-8">
<link rel="stylesheet" href="/stylesheets/normalize.css">
<link rel="stylesheet" href="/stylesheets/master.css">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,600' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="/js/jquery-1.12.3.min.js"></script>
<script type="text/javascript" src="/js/form_validation.js"></script>
<script type="text/javascript" src="/js/highlight.js"></script>
<!--[if lte IE 8]>
  <script>
    document.createElement('footer');
    document.createElement('header');
  </script>
<![endif]-->
<title>My App</title>

  </head>
  <body>
    <header>
      <!-- views/partials/header.ejs -->

<h1>My App</h1>

    </header>
    <div class="posts">
    <!-- views/posts/partials/top.ejs -->

<h2>My Board</h2>

<!-- main start-->

<!-- views/posts/index.ejs -->

<div class="index">
<div class="message">
  
</div>
  <div class="buttons">
    <a class="button float_left" href="/posts/new?page=1&amp;limit=10&amp;searchType=&amp;searchText=">New</a>
    
      <a class="button float_right" href="/login">Login</a>
      <a class="button float_right" href="/users/new">Sign Up</a>
    
  </div>
  <table>
    <thead>
      <tr>
        <th class="num">Num</th>
        <th class="title">Title</th>
        <th class="views">Views</th>
        <th class="author">Author</th>
        <th class="date">Date</th>
      </tr>
    </thead>
    <tbody>
 		 {% if(posts == null || posts.length == 0){ %}
          <tr class="noData">
            <td colspan="5">There is no data to show :(</td>
          </tr>
      {% } %}
      {% posts.forEach(function(post){ %}
        <tr onclick="window.location = '/posts/{%= post._id %>?<%= urlQuery %}'">
          <td>{%= post.numId %}</td>
          <td class="highlight" data-highlight="{%= search.highlight.title %}">
            {%= post.title %}
            <span class="comments">({%= post.comments.length %})</span>
          </td>
          <td>{%= post.views %}</td>
          <td>{%= post.getFormattedDate(post.createdAt) %}</td>
          <td class="highlight" data-highlight="{%= search.highlight.author %}">{%= post.author.nickname %}</td>
        </tr>
      <% }) %>
    </tbody>
  </table>
  <ul class="pagination">
    
    
      
        
          <li>[ <b>1</b> ]</li>
        
      
    
      
        
          <li>[<a href="/posts?page=2&amp;limit=10&amp;searchType=&amp;searchText="> 2 </a>]</li>
        
      
    
      
        
          <li>[<a href="/posts?page=3&amp;limit=10&amp;searchType=&amp;searchText="> 3 </a>]</li>
        
      
    
      
          <li>...</li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
          <li>...</li>
      
    
      
        
          <li>[<a href="/posts?page=64&amp;limit=10&amp;searchType=&amp;searchText="> 64 </a>]</li>
        
      
    
      
        
          <li>[<a href="/posts?page=65&amp;limit=10&amp;searchType=&amp;searchText="> 65 </a>]</li>
        
      
    
      
        
          <li>[<a href="/posts?page=66&amp;limit=10&amp;searchType=&amp;searchText="> 66 </a>]</li>
        
      
    
  </ul>
  <div class="floats">
    <div class="counter float_left">
      
        Total 1812 visitors<br>
        (today: 2)
      
    </div>
    <div class="search float_right">
      <form class="checkValidation" action="/posts/" id="search">
        <select name="searchType" >
          
          <option value="title,body"
            >Title+Body</option>
          <option value="title"
            >Title</option>
          <option value="body"
            >Body</option>
          
            <option value="author"
              >Author</option>
          
        </select>
        <input class="cvMinLength" cvMinLength="3"
          cvMinLenErrTo="#searchError"
          cvMinLenErrMsg="It should be at least 3 characters"
          type="text" name="searchText" value=""
          >
        <input class="button" type="submit"  value="Search">
        
        <div class="message" id="searchError"></div>
      </form>
    </div>
  </div>
</div>

<!-- main end -->
    </div><!--posts end -->
    <footer>
      <!-- views/partials/footer.ejs -->

<a href="http://blog.naver.com/azure0777">
  http://blog.naver.com/azure0777
</a>

    </footer>
  </body>
</html>
